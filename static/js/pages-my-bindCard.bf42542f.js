(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-my-bindCard"],{"09ca":function(e,t,a){"use strict";e.exports={URL:"http://10.0.1.225:4000",URLPATH:"/accounts",URLPATH1:"/activity"}},4004:function(e,t,a){"use strict";var n=a("288e");Object.defineProperty(t,"__esModule",{value:!0}),t.default=c;var i=n(a("795b")),o=n(a("5176")),s=n(a("09ca"));function c(e){var t=e.url,a=e.data,n=e.method;a=a||{},n=n||"GET";var c=s.default.URLPATH,r={},d={Authorization:"bearer ".concat(localStorage.getItem("authority")),saasTenantToken:localStorage.getItem("saas_tenant_token")};return"POST"===n&&(a=(0,o.default)(r,a)),console.log(a),new i.default(function(e,i){uni.request({url:c+t,header:d,method:n,data:a,success:function(t){e(t)},fail:function(e){console.log(e),i(e),uni.showToast({title:"服务器出错了~~~"})}})})}},"43c3":function(e,t,a){var n=a("79ba");"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var i=a("4f06").default;i("b7a2ec98",n,!0,{sourceMap:!1,shadowMode:!1})},"4c51":function(e,t,a){"use strict";a.r(t);var n=a("ebef"),i=a("6b7b");for(var o in i)"default"!==o&&function(e){a.d(t,e,function(){return i[e]})}(o);a("70ad");var s=a("2877"),c=Object(s["a"])(i["default"],n["a"],n["b"],!1,null,"349262e8",null);t["default"]=c.exports},"6b7b":function(e,t,a){"use strict";a.r(t);var n=a("94cd"),i=a.n(n);for(var o in n)"default"!==o&&function(e){a.d(t,e,function(){return n[e]})}(o);t["default"]=i.a},"70ad":function(e,t,a){"use strict";var n=a("43c3"),i=a.n(n);i.a},"79ba":function(e,t,a){t=e.exports=a("2350")(!1),t.push([e.i,'@charset "UTF-8";\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\n/* 水平内边距 */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */uni-page-body[data-v-349262e8]{background-color:#efeff4}.bind-card .bind-card-form[data-v-349262e8]{padding:0 %?40?%;background-color:#fff}.bind-card .bind-form-item[data-v-349262e8]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;height:%?98?%;border-bottom:1px solid #ccc}.bind-card .form-item-label[data-v-349262e8]{width:%?140?%;font-size:%?30?%;line-height:%?98?%}.bind-card .form-item-value[data-v-349262e8]{-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex}.bind-card .form-item-tip[data-v-349262e8]{overflow:hidden;line-height:%?98?%}.bind-card .form-item-icon[data-v-349262e8]{width:%?34?%;height:%?30?%}.bind-card .form-item-input[data-v-349262e8]{height:%?30?%;line-height:%?30?%;font-size:%?30?%;padding:%?4?%;-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1;background-color:#fff}.bind-card .bind-card-submit-box[data-v-349262e8]{margin-top:%?30?%;padding:0 %?40?%}.bind-card .get-code[data-v-349262e8]{font-size:%?30?%;color:#1890ff}.bind-card .get-codeing[data-v-349262e8]{color:#999}body.?%PAGE?%[data-v-349262e8]{background-color:#efeff4}',""])},"7d42":function(e,t,a){"use strict";var n=a("288e");Object.defineProperty(t,"__esModule",{value:!0}),t.isvalidatemobile=o,t.isvalidatebankcard=s,t.validateNum=c,t.validatenull=r;var i=n(a("f499"));function o(e){var t=[],a=!0,n="",i=/^1[3456789]\d{9}$/;return r(e)?n="手机号码不能为空":11==e.length?i.test(e)?a=!1:n="手机号码格式不正确":n="手机号码长度不为11位",t.push(a),t.push(n),t}function s(e){var t=[],a=!0,n="",i=/^([1-9]{1})(\d{14}|\d{15}|\d{16}|\d{17}|\d{18})$/;return r(e)?n="银行卡号不能为空":i.test(e)?a=!1:n="银行卡号格式不正确",t.push(a),t.push(n),t}function c(e,t){var a=/^\d+$/;if(1==t){if(!a.test(e))return!1}else if(2==t&&(a=/^-\d+$/,!a.test(e)))return!1;return!0}function r(e){if(e instanceof Array){if(0==e.length)return!0}else{if(!(e instanceof Object))return"null"==e||null==e||"undefined"==e||void 0==e||""==e;if("{}"===(0,i.default)(e))return!0}return!1}},"94cd":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a("fbed"),i=a("7d42"),o={data:function(){return{accountNo:"",phone:"",code:"",flag:!0,time:60,code_msg:""}},onLoad:function(){},methods:{getValidateCode:function(){var e=this,t=(0,i.isvalidatemobile)(this.phone);if(console.log(t),t[0])uni.showToast({title:t[1],icon:"none"});else{(0,n.getValidateCode)({phone:this.phone}).then(function(t){"000000"==t.data.recode?e.code=t.data.data:uni.showToast({title:t.data.remsg,icon:"none"})});var a=this;if(a.time=60,a.code_msg=a.time+"s后重发",a.flag){a.flag=!1;var o=setInterval(function(){0===a.time?(a.flag=!0,clearInterval(o),o=""):(a.time--,a.code_msg=a.time+"s后重发")},1e3)}}},handleCardBind:function(){var e=(0,i.isvalidatebankcard)(this.accountNo);if(e[0])uni.showToast({title:e[1],icon:"none"});else{var t=(0,i.isvalidatemobile)(this.phone);t[0]?uni.showToast({title:t[1],icon:"none"}):this.code?(0,n.bindCard)({accountNo:this.accountNo,phone:this.phone,code:this.code,customNo:localStorage.getItem("customNo"),customName:localStorage.getItem("customName"),cardNo:localStorage.getItem("cardNo")}).then(function(e){"000000"==e.data.recode?uni.navigateBack():uni.showToast({title:e.data.remsg,icon:"none"})}):uni.showToast({title:"验证码不能为空",icon:"none"})}}}};t.default=o},ebef:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-uni-view",{staticClass:"bind-card"},[a("v-uni-view",{staticClass:"bind-card-form"},[a("v-uni-view",{staticClass:"bind-form-item"},[a("v-uni-view",{staticClass:"form-item-label"},[e._v("银行卡号")]),a("v-uni-view",{staticClass:"form-item-value"},[a("v-uni-input",{staticClass:"form-item-input",attrs:{placeholder:"请输入您的银行卡号",maxlength:"19"},model:{value:e.accountNo,callback:function(t){e.accountNo=t},expression:"accountNo"}})],1),a("v-uni-view",{staticClass:"form-item-tip"},[a("v-uni-image",{staticClass:"form-item-icon",attrs:{src:"/static/images/icon-camera.png",mode:""}})],1)],1),a("v-uni-view",{staticClass:"bind-form-item"},[a("v-uni-view",{staticClass:"form-item-label"},[e._v("预留手机")]),a("v-uni-view",{staticClass:"form-item-value"},[a("v-uni-input",{staticClass:"form-item-input",attrs:{placeholder:"请输入预留手机号",maxlength:"11"},model:{value:e.phone,callback:function(t){e.phone=t},expression:"phone"}})],1)],1),a("v-uni-view",{staticClass:"bind-form-item"},[a("v-uni-view",{staticClass:"form-item-label"},[e._v("验证码")]),a("v-uni-view",{staticClass:"form-item-value"},[a("v-uni-input",{staticClass:"form-item-input",attrs:{placeholder:"请输入验证码",maxlength:"6"},model:{value:e.code,callback:function(t){e.code=t},expression:"code"}})],1),a("v-uni-view",{staticClass:"form-item-tip"},[a("v-uni-text",{directives:[{name:"show",rawName:"v-show",value:e.flag,expression:"flag"}],staticClass:"get-code",on:{click:function(t){t=e.$handleEvent(t),e.getValidateCode(t)}}},[e._v("获取验证码")]),a("v-uni-text",{directives:[{name:"show",rawName:"v-show",value:!e.flag,expression:"!flag"}],staticClass:"get-codeing"},[e._v(e._s(e.code_msg))])],1)],1)],1),a("v-uni-view",{staticClass:"bind-card-submit-box"},[a("v-uni-button",{attrs:{type:"primary"},on:{click:function(t){t=e.$handleEvent(t),e.handleCardBind(t)}}},[e._v("提交")])],1)],1)},i=[];a.d(t,"a",function(){return n}),a.d(t,"b",function(){return i})},fbed:function(e,t,a){"use strict";var n=a("288e");Object.defineProperty(t,"__esModule",{value:!0}),t.queryPersonalDetail=o,t.getValidateCode=s,t.bindCard=c,t.cardList=r;var i=n(a("4004"));function o(e){return(0,i.default)({url:"/customer/queryPersonalDetail/".concat(e.customerNo),method:"GET",data:e})}function s(e){return(0,i.default)({url:"/validate/getCode/".concat(e.phone),method:"GET",data:e})}function c(e){return(0,i.default)({url:"/bindcard/bind",method:"POST",data:e})}function r(e){return(0,i.default)({url:"/bindcard/cardList/".concat(e.customNo),method:"GET",data:e})}}}]);